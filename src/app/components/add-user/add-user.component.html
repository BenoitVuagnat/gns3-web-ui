<p>
  Create new user
</p>
<form [formGroup]="projectNameForm" class="file-name-form">
  <mat-form-field class="file-name-form-field">
    <input
      matInput
      (keydown)="onKeyDown($event)"
      type="text"
      formControlName="username"
      [ngClass]="{ 'is-invalid': form.projectName?.errors }"
      placeholder="Please enter a username"
    />
    <mat-error *ngIf="form.projectName?.touched && form.projectName?.errors && form.projectName?.errors.required"
      >Username is required</mat-error
    >
    <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.invalidName"
      >Username is incorrect</mat-error
    >
    <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.projectExist"
      >User with this username exists</mat-error
    >
  </mat-form-field>
  <mat-form-field class="file-name-form-field">
    <input
      matInput
      (keydown)="onKeyDown($event)"
      type="text"
      formControlName="email"
      [ngClass]="{ 'is-invalid': form.projectName?.errors }"
      placeholder="Please enter an email"
    />
    <mat-error *ngIf="form.projectName?.touched && form.projectName?.errors && form.projectName?.errors.required"
      >email is required</mat-error
    >
    <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.invalidName"
      >email is incorrect</mat-error
    >
    <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.projectExist"
      >User with this email exists</mat-error
    >
  </mat-form-field>
  <mat-form-field class="file-name-form-field">
    <input
      matInput
      (keydown)="onKeyDown($event)"
      type="text"
      formControlName="full_name"
      [ngClass]="{ 'is-invalid': form.projectName?.errors }"
      placeholder="Please enter a full name"
    />
    <mat-error *ngIf="form.projectName?.touched && form.projectName?.errors && form.projectName?.errors.required"
      >Full name is required</mat-error
    >
    <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.invalidName"
      >Full name is incorrect</mat-error
    >
    <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.projectExist"
      >User with this full name exists</mat-error
    >
  </mat-form-field>
  <!--add the censor -->
  <mat-form-field class="file-name-form-field">
    <input
      matInput
      (keydown)="onKeyDown($event)"
      type="password"
      formControlName="password"
      [ngClass]="{ 'is-invalid': form.projectName?.errors }"
      placeholder="Please enter a password"
    />
    <mat-error *ngIf="form.projectName?.touched && form.projectName?.errors && form.projectName?.errors.required"
      >Password is required</mat-error
    >
    <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.invalidName"
      >Password name is incorrect</mat-error
    >
    <!-- to remove ? -->
    <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.projectExist"
      >Project with this name exists</mat-error 
    >
  </mat-form-field>
      <mat-form-field class="file-name-form-field">
        <input
          matInput
          (keydown)="onKeyDown($event)"
          formControlName="confirm_password"
          type="password"
          [ngClass]="{ 'is-invalid': form.projectName?.errors }"
          [errorStateMatcher]="matcher"
          placeholder="Confirm password"
        />
        <mat-error *ngIf="form.projectName?.touched && form.projectName?.errors && form.projectName?.errors.required"
          >Full name is required</mat-error
        >
        <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.invalidName"
          >Full name is incorrect</mat-error
        >
        <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.projectExist"
          >User with this full name exists</mat-error
        >
        <mat-error *ngIf="form.confirm_password?.errors && form.confirm_password?.errors.mustMatch"
          >Passwords must match</mat-error
        >
      </mat-form-field>
  <div mat-dialog-actions>
    <button mat-button (click)="onNoClick()" color="accent">Cancel</button>
    <button mat-button (click)="onAddClick()" tabindex="2" class="add-project-button" mat-raised-button color="primary">
      Add user
    </button>
  </div>
</form>