<p>
  Manage group 
</p>

<mat-grid-list cols="2" rowHeight="6:1">
  <mat-grid-tile>
    <mat-grid-list cols="2" rowHeight="2:1">
      <form [formGroup]="groupForm" class="file-name-form">
        <mat-form-field class="file-name-form-field">
          <input
            matInput
            (keydown)="onKeyDown($event)"
            formControlName="name"
          
            [ngClass]="{ 'is-invalid': form.projectName?.errors }"
            placeholder="Please enter a name"
            value = {{group.name}}
          />
          <mat-error *ngIf="form.username?.touched && form.username?.errors && form.username?.errors.required"
            >name is required</mat-error
          >
          <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.invalidName"
            >name is incorrect</mat-error
          >
          <mat-error *ngIf="form.projectName?.errors && form.projectName?.errors.projectExist"
            >Group with this name exists</mat-error
          >
        </mat-form-field>
        
      </form>
    </mat-grid-list>
    
    
  </mat-grid-tile>
  <mat-grid-tile>
    <p>Group ID : {{group.user_group_id}}</p>
  </mat-grid-tile>
  <mat-grid-tile><p>Created_at : {{group.created_at}}</p></mat-grid-tile>
  <mat-grid-tile><p>Updated at : {{group.updated_at}}</p></mat-grid-tile>
  <mat-grid-tile></mat-grid-tile>
</mat-grid-list>

<mat-form-field class="example-chip-list" appearance="fill">
  <mat-label>Users in this group</mat-label>
  <mat-chip-list #chipList aria-label="User selection">
    <mat-chip
      *ngFor="let user of usernames"
      [selectable]="selectable"
      [removable]="removable"
      (removed)="remove(user)">
      {{user}}
      <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
    </mat-chip>
    <input
      placeholder="Add user..."
      #userInput
      [formControl]="userCtrl"
      [matAutocomplete]="auto"
      [matChipInputFor]="chipList"
      [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
      (matChipInputTokenEnd)="add($event)">
  </mat-chip-list>
  <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
    <mat-option *ngFor="let username of filteredUsers | async" [value]="username">
      {{username}}
    </mat-option>
  </mat-autocomplete>
</mat-form-field>

<button mat-button (click)="onNoClick()" color="accent">Cancel</button>
<button mat-button (click)="onUpdateClick()" tabindex="2" class="add-project-button" mat-raised-button color="primary">
  Update group
</button>